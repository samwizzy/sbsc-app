<h1 matDialogTitle>Update Account</h1>

<form [formGroup]="ngForm" (submit)="onSubmit()">
  <mat-dialog-content>
    <div class="mb-4">
      <mat-form-field appearance="outline" class="w-full sm:w-80">
        <mat-label>Email address</mat-label>
        <input
          matInput
          type="email"
          placeholder="Email address"
          formControlName="email"
        />
        <mat-hint *ngIf="true">Email should be valid</mat-hint>
        <mat-error *ngIf="submitted && f['email'].errors">
          <p *ngIf="f['email'].errors['required']">
            Email is <strong>required</strong>
          </p>
          <p *ngIf="f['email'].errors['email']">
            Please enter a valid email address
          </p>
        </mat-error>
      </mat-form-field>
    </div>

    <div class="mb-4">
      <mat-form-field appearance="outline" class="w-full sm:w-80">
        <mat-label>First name</mat-label>
        <input matInput placeholder="First name" formControlName="first_name" />

        <mat-error *ngIf="f['first_name'].errors">
          <p *ngIf="f['first_name'].errors['required']">
            First name is <strong>required</strong>
          </p>
        </mat-error>
      </mat-form-field>
    </div>

    <div class="mb-4">
      <mat-form-field appearance="outline" class="w-full sm:w-80">
        <mat-label>Last name</mat-label>
        <input matInput placeholder="Last name" formControlName="last_name" />

        <mat-error *ngIf="f['last_name'].errors">
          <p *ngIf="f['last_name'].errors['required']">
            Last name is <strong>required</strong>
          </p>
        </mat-error>
      </mat-form-field>
    </div>
  </mat-dialog-content>

  <mat-dialog-actions class="mat-dialog-actions">
    <button mat-stroked-button matDialogClose (click)="onClose()">Close</button>

    <button
      mat-flat-button
      type="submit"
      color="primary"
      [disabled]="ngForm.status == 'INVALID'"
    >
      Save
    </button>
  </mat-dialog-actions>
</form>
