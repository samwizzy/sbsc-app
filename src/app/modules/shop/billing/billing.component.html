<section>
  <div class="max-w-3xl mx-auto">
    <div class="grid grid-cols-12 gap-8">
      <div class="col-span-8">
        <div class="mb-4">
          <h2 class="font-bold">Billing Details</h2>
        </div>

        <form [formGroup]="form" (ngSubmit)="onSubmit($event)">
          <ng-container formGroupName="account">
            <div class="flex gap-x-3">
              <mat-form-field appearance="outline" class="w-full">
                <mat-label>Account Name</mat-label>
                <input matInput placeholder="Ex. No 6" formControlName="name" />
              </mat-form-field>

              <mat-form-field appearance="outline" class="w-full">
                <mat-label>Acoount Number </mat-label>
                <input matInput placeholder="Ex. Eti-osa" formControlName="number" />
              </mat-form-field>
            </div>

            <div class="flex gap-x-3">
              <mat-form-field appearance="outline" class="w-full">
                <mat-label>Token </mat-label>
                <input matInput placeholder="Ex. Eti-osa" formControlName="token" />
              </mat-form-field>

              <mat-form-field appearance="outline" class="w-full">
                <mat-label>CVV </mat-label>
                <input matInput placeholder="Ex. Eti-osa" formControlName="cvv" />
              </mat-form-field>
            </div>
          </ng-container>

          <ng-container formGroupName="personal">
            <div class="flex gap-x-3">
              <mat-form-field appearance="outline" class="w-full">
                <mat-label>Cardholder Email</mat-label>
                <input matInput placeholder="Ex. No 6" formControlName="email" />
              </mat-form-field>

              <mat-form-field appearance="outline" class="w-full">
                <mat-label>Cardholder Phone number</mat-label>
                <input matInput placeholder="Ex. Eti-osa" formControlName="phone" />
              </mat-form-field>
            </div>
          </ng-container>

          <mat-form-field appearance="outline" class="w-full">
            <mat-label>Plan</mat-label>
            <mat-select formControlName="plan">
              <mat-option *ngFor="let plan of plans" [value]="plan.name">
                {{ plan.name }}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <button
            type="submit"
            class="bg-blue-600 text-white px-3 py-1 rounded-sm shadow-sm disabled:cursor-not-allowed disabled:bg-gray-400"
            [disabled]="form.invalid"
          >
            Proceed to checkout
          </button>
        </form>
      </div>

      <div class="col-span-4">
        <div class="mb-4">
          <h2 class="font-bold">Preview</h2>
        </div>

        <section class="space-y-2" *ngIf="form.dirty">
          <div *ngIf="controls['street'].dirty">
            <h4 class="text-xs">Street</h4>
            <p class="font-medium">{{ controls['street'].value }}</p>
          </div>

          <div *ngIf="controls['city'].dirty">
            <h4 class="text-xs">City</h4>
            <p class="font-medium">{{ controls['city'].value }}</p>
          </div>

          <div *ngIf="controls['state'].dirty">
            <h4 class="text-xs">State</h4>
            <p class="font-medium">{{ controls['state'].value }}</p>
          </div>

          <div *ngIf="controls['country'].dirty">
            <h4 class="text-xs">Country</h4>
            <p class="font-medium">{{ controls['country'].value }}</p>
          </div>
        </section>
      </div>
    </div>
  </div>
</section>
